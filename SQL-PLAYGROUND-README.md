# üéÆ SQL Playground –≤ mdBook

## ‚ú® –ß—Ç–æ —ç—Ç–æ –¥–∞–µ—Ç?

–¢–µ–ø–µ—Ä—å –≤–∞—à SQL –∫—É—Ä—Å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ SQL –∫–æ–¥–∞** –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ! –°—Ç—É–¥–µ–Ω—Ç—ã –º–æ–≥—É—Ç:

- ‚úÖ **–í—ã–ø–æ–ª–Ω—è—Ç—å SQL –∑–∞–ø—Ä–æ—Å—ã** –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PostgreSQL
- ‚úÖ **–í–∏–¥–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** –≤ –∫—Ä–∞—Å–∏–≤—ã—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö
- ‚úÖ **–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å** —Å –¥–∞–Ω–Ω—ã–º–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ
- ‚úÖ **–ò–∑—É—á–∞—Ç—å –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ** –±–µ–∑ —Å–ª–æ–∂–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- üÜï **–ü–∏—Å–∞—Ç—å –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥** –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –±–ª–æ–∫–∞—Ö
- üÜï **–ü–æ–ª—É—á–∞—Ç—å –º–≥–Ω–æ–≤–µ–Ω–Ω—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å** –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### SQLite WASM (sql.js)
- **–ë—ã—Å—Ç—Ä–æ** - –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ** - –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ä–µ–¥–∞
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ** - —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- **–û—Ñ—Ñ–ª–∞–π–Ω** - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏

## üìù –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –º–∞—Ç–µ—Ä–∏–∞–ª–∞—Ö

### 1. –ì–æ—Ç–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã (—Ç–æ–ª—å–∫–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ)
```markdown
```sql,runnable
SELECT * FROM employees WHERE department = 'IT';
```

### 2. –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–µ –±–ª–æ–∫–∏ (–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å –∫–æ–¥)
```markdown
```sql,editable
-- –°—Ç—É–¥–µ–Ω—Ç –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –∫–æ–¥
SELECT first_name, last_name FROM employees WHERE salary > 100000;
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç
- **Runnable**: –ö–Ω–æ–ø–∫–∏ "‚ñ∂ –í—ã–ø–æ–ª–Ω–∏—Ç—å SQL" –∏ "üîÑ –°–±—Ä–æ—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ"
- **Editable**: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∫–Ω–æ–ø–∫–∞ "üóë –û—á–∏—Å—Ç–∏—Ç—å –∫–æ–¥" –∏ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ –ø–æ–¥ –±–ª–æ–∫–æ–º
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. SELECT –∑–∞–ø—Ä–æ—Å—ã
```sql,runnable
SELECT first_name, last_name, salary FROM employees ORDER BY salary DESC;
```

### 2. –ê–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
```sql,runnable
SELECT department, COUNT(*), AVG(salary) FROM employees GROUP BY department;
```

### 3. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
```sql,runnable
INSERT INTO employees VALUES (99, '–¢–µ—Å—Ç', '–¢–µ—Å—Ç–æ–≤', 'test@example.com', 'IT', 'Developer', 100000, '2024-01-01', NULL, 1);
SELECT * FROM employees WHERE id = 99;
```

### 4. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
```sql,runnable
UPDATE employees SET salary = salary * 1.1 WHERE department = 'IT';
SELECT first_name, last_name, salary FROM employees WHERE department = 'IT';
```

## üèó –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

–í –∫–∞–∂–¥–æ–º playground –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç–∞–±–ª–∏—Ü—ã:

### –¢–∞–±–ª–∏—Ü–∞ `employees`
- id, first_name, last_name, email
- department, position, salary
- hire_date, manager_id, active

### –¢–∞–±–ª–∏—Ü–∞ `departments`
- id, name, description
- budget, location

### –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- 10 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏–∑ —Ä–∞–∑–Ω—ã—Ö –æ—Ç–¥–µ–ª–æ–≤
- 5 –æ—Ç–¥–µ–ª–æ–≤ –∫–æ–º–ø–∞–Ω–∏–∏
- –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –∑–∞—Ä–ø–ª–∞—Ç—ã –∏ –¥–∞—Ç—ã

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### CSS –∫–ª–∞—Å—Å—ã –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏
```css
.sql-playground { } /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä playground */
.sql-run-button { } /* –ö–Ω–æ–ø–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è */
.sql-table { }      /* –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ */
.sql-error { }      /* –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö */
.sql-success { }    /* –°–æ–æ–±—â–µ–Ω–∏—è –æ–± —É—Å–ø–µ—Ö–µ */
```

### JavaScript —Å–æ–±—ã—Ç–∏—è
```javascript
// –ö–∞—Å—Ç–æ–º–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
document.addEventListener('sqlExecuted', (event) => {
    console.log('SQL –≤—ã–ø–æ–ª–Ω–µ–Ω:', event.detail);
});
```

## üîß –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `book/theme/sql-playground.js`:

```javascript
const setupSQL = `
    CREATE TABLE products (
        id INTEGER PRIMARY KEY,
        name TEXT NOT NULL,
        price DECIMAL(10,2)
    );
    
    INSERT INTO products VALUES 
        (1, 'Laptop', 1000.00),
        (2, 'Mouse', 25.00);
`;
```

### –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
```javascript
// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö SQL —Ñ—É–Ω–∫—Ü–∏–π
db.create_function("CUSTOM_FUNC", function(value) {
    return value.toUpperCase();
});
```

## üöÄ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã

### 1. PostgreSQL —á–µ—Ä–µ–∑ WebAssembly
- **–ü–ª—é—Å—ã**: 100% —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å PostgreSQL
- **–ú–∏–Ω—É—Å—ã**: –ë–æ–ª—å—à–∏–π —Ä–∞–∑–º–µ—Ä, —Å–ª–æ–∂–Ω–µ–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 2. –£–¥–∞–ª–µ–Ω–Ω—ã–π SQL —Å–µ—Ä–≤–µ—Ä
- **–ü–ª—é—Å—ã**: –†–µ–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **–ú–∏–Ω—É—Å—ã**: –¢—Ä–µ–±—É–µ—Ç —Å–µ—Ä–≤–µ—Ä, –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 3. Iframe —Å –≤–Ω–µ—à–Ω–∏–º playground
```html
<iframe src="https://sqlfiddle.com/postgresql/online-compiler" width="100%" height="400"></iframe>
```

## üìã –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è SQLite vs PostgreSQL

### –†–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ
- ‚úÖ –ë–∞–∑–æ–≤—ã–µ SELECT, INSERT, UPDATE, DELETE
- ‚úÖ JOIN –æ–ø–µ—Ä–∞—Ü–∏–∏
- ‚úÖ –ê–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- ‚úÖ –ü–æ–¥–∑–∞–ø—Ä–æ—Å—ã –∏ CTE
- ‚úÖ –û–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### –†–∞–∑–ª–∏—á–∏—è
- ‚ùå –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Ç–∏–ø—ã PostgreSQL (UUID, JSONB)
- ‚ùå –†–∞—Å—à–∏—Ä–µ–Ω–∏—è (PostGIS)
- ‚ùå –ü—Ä–æ—Ü–µ–¥—É—Ä—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏ PL/pgSQL
- ‚ùå –¢—Ä–∏–≥–≥–µ—Ä—ã (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ)

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –î–ª—è –Ω–∞—á–∞–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π (00-01)
‚úÖ **–û—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç** - –±–∞–∑–æ–≤—ã–π SQL –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º

### –î–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –º–æ–¥—É–ª–µ–π (02-03)
‚ö†Ô∏è **–ß–∞—Å—Ç–∏—á–Ω–æ** - –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –±–µ–∑ PostgreSQL-—Å–ø–µ—Ü–∏—Ñ–∏–∫–∏

### –î–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (04)
‚ùå **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ** - –Ω–µ—Ç –ø–ª–∞–Ω–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è PostgreSQL

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–º–µ–Ω–∞
```bash
# –°–¥–µ–ª–∞—Ç—å –≤—Å–µ SQL –±–ª–æ–∫–∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏
sed -i 's/```sql$/```sql,runnable/g' *.md
```

### 2. –í—ã–±–æ—Ä–æ—á–Ω–æ
–î–æ–±–∞–≤–ª—è–π—Ç–µ `,runnable` —Ç–æ–ª—å–∫–æ –∫ –±–ª–æ–∫–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏:
```markdown
```sql,runnable
SELECT * FROM employees;
```

### 3. –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥
```markdown
<!-- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ) -->
```sql,runnable
SELECT COUNT(*) FROM employees;
```

<!-- –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –∫–æ–¥ (—Ç–æ–ª—å–∫–æ –ø–æ–∫–∞–∑) -->
```sql
-- –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –¥–ª—è PostgreSQL –∫–æ–¥
SELECT * FROM pg_stats;
```

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–í–∞—à SQL –∫—É—Ä—Å —Ç–µ–ø–µ—Ä—å:
- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π** - —Å—Ç—É–¥–µ–Ω—Ç—ã —É—á–∞—Ç—Å—è –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ
- **–î–æ—Å—Ç—É–ø–Ω—ã–π** - —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ª—é–±–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
- **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π** - –∫—Ä–∞—Å–∏–≤—ã–π UI/UX
- **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π** - –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–∞–º–∏**: –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000 –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "üéÆ –î–µ–º–æ: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã"! 
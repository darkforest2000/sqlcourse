# Практика: Определение данных (DDL)

В этой секции мы попрактикуемся в создании и изменении структуры таблиц.

## Упражнение 1: Создание таблицы `products`

Создайте таблицу для хранения информации о продуктах в интернет-магазине.

**Требования к таблице `products`:**
1.  `id`: Уникальный идентификатор, автоинкрементный. Должен быть первичным ключом.
2.  `name`: Название продукта. Текстовое поле, не может быть пустым.
3.  `sku`: Артикул (Stock Keeping Unit). Уникальная строка до 50 символов.
4.  `description`: Описание продукта. Текстовое поле произвольной длины.
5.  `price`: Цена. Число с точностью до 2 знаков после запятой. Не может быть отрицательным.
6.  `stock_quantity`: Количество на складе. Целое число, по умолчанию 0.
7.  `created_at`: Дата и время создания записи. Должно устанавливаться автоматически.

```sql,editable
-- Ваш код для создания таблицы products здесь

```

## Упражнение 2: Создание таблицы `categories`

Создайте таблицу для категорий продуктов.

**Требования к таблице `categories`:**
1.  `id`: Уникальный автоинкрементный идентификатор (первичный ключ).
2.  `name`: Название категории, уникальное, не может быть пустым.
3.  `parent_category_id`: Ссылка на родительскую категорию (в этой же таблице). Это позволяет создавать иерархию категорий (например, "Электроника" -> "Смартфоны"). Может быть `NULL`, если это категория верхнего уровня.

```sql,editable
-- Ваш код для создания таблицы categories здесь

```

## Упражнение 3: Связывание продуктов и категорий

Продукты и категории должны иметь связь "многие-ко-многим". Один продукт может быть в нескольких категориях, и в одной категории может быть много продуктов.

Создайте для этого связующую таблицу `product_categories`.

**Требования к таблице:**
1.  Она должна содержать два поля: `product_id` и `category_id`.
2.  Оба поля должны быть внешними ключами, ссылающимися на соответствующие таблицы.
3.  Пара (`product_id`, `category_id`) должна быть уникальной, чтобы избежать дублирования связей. Сделайте эту пару составным первичным ключом.
4.  При удалении продукта или категории соответствующая запись в этой таблице должна удаляться автоматически.

```sql,editable
-- Ваш код для создания таблицы product_categories здесь

```

## Упражнение 4: Изменение таблицы `products`

Добавьте в таблицу `products` новые поля и измените существующие.

**Задачи:**
1.  Добавьте поле `is_published` типа `BOOLEAN` со значением по умолчанию `FALSE`.
2.  Добавьте поле `weight_kg` типа `NUMERIC(8, 3)`.
3.  Измените название поля `sku` на `article`.

```sql,editable
-- Ваш код для изменения таблицы products здесь

``` 